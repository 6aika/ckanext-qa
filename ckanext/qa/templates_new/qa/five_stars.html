{% extends "qa/base.html" %}

{% block primary_content %}
  <h1>{% trans %}Quality Assurance{% endtrans %}</h1>
  <h3>{% trans %}Dataset openness scores{% endtrans %}</h3>

  <p>{% trans %}A list of all datasets in CKAN, together with their
  <a href="http://www.w3.org/DesignIssues/LinkedData.html" target="_blank">5 stars of openness rating</a>.{% endtrans %}</p>
  <p>{% trans %}The rating is calculated by looking at the reported mime-type of
  each of the datasets resources and calculating the 5 stars of openness score
  for each. The overall dataset score is taken to be the highest score of any of
  the resources.{% endtrans %}</p>

  <table class="table table-striped table-bordered table-condensed">
    <tr>
        <th class="qa-table-name">{% trans %}Dataset name{% endtrans %}</th>
        <th class="qa-table-score">{% trans %}5 Stars of Openness{% endtrans %}</th>
    </tr>
    {% for package in c.packages %}
      <tr>
        <td>{{ h.link_to(package.get('title') or package.get('name'), h.url_for(controller='package', action='read', id=package.get('name'))) }}</td>
        <td>{{ package.get('openness_score') }}</td>
      </tr>
    {% endfor %}
  </table>

  {% if not c.packages %}
    <p>{% trans %}No QA results found{% endtrans %}.</p>
  {% endif %}
{% endblock %}
